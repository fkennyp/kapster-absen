{% extends 'base.html' %}
{% block title %}Absensi{% endblock %}
{% block content %}
<h1>Absensi Tanggal {{ today_id }}</h1>
<div class="card">
    <p>Status:
        {% if rec and rec.check_in and not rec.check_out %}
    Sudah check-in pada {{ check_in_id }} â€” belum check-out.
        {% elif rec and rec.check_in and rec.check_out %}
    Selesai. Masuk: {{ check_in_id }}, Pulang: {{ check_out_id }}
        {% else %}
        Belum check-in.
        {% endif %}
    </p>
    <form method="post" action="/attendance/check-in">
        <label>Catatan (opsional)<input type="text" name="notes" placeholder="misal: Shift pagi"></label>
        <button type="submit" {% if rec and rec.check_in %}disabled{% endif %}>Check In</button>
    </form>
    <form method="post" action="/attendance/check-out">
        <label>Catatan (opsional)<input type="text" name="notes" placeholder="misal: Pulang lebih awal"></label>
        <button type="submit" {% if not rec or not rec.check_in or rec.check_out %}disabled{% endif %}>Check Out</button>
    </form>
</div>
{% endblock %}